<!-- Testimonials Section -->
<section id="testimonials" class="testimonials-section">
    <div class="testimonials-bg">
        <div class="testimonial-cloud-1"></div>
        <div class="testimonial-cloud-2"></div>
    </div>

    <div class="container">
        <div class="section-header">
            <h2>Ils ont test√©, ils <span class="gradient-text">approuvent</span> !</h2>
            <p>{{ section.settings.testimonials_subtitle | default: 'Rejoins les milliers de personnes qui ont adopt√© leur nouvelle bague connect√©e' }}</p>
        </div>

        <div class="testimonials-grid">
            {% for block in section.blocks %}
              {% if block.type == 'testimonial' %}
                <div class="testimonial-card" {{ block.shopify_attributes }}>
                    <div class="stars">
                        <span>‚≠ê</span><span>‚≠ê</span><span>‚≠ê</span><span>‚≠ê</span><span>‚≠ê</span>
                    </div>
                    <p class="testimonial-text">
                        {{ block.settings.text | default: 'T√©moignage client' }}
                    </p>
                    <div class="testimonial-author">
                        {% if block.settings.avatar != blank %}
                          <img src="{{ block.settings.avatar | img_url: '150x150' }}" alt="{{ block.settings.name }}">
                        {% else %}
                          {% case forloop.index %}
                            {% when 1 %}
                              <img src="https://images.unsplash.com/photo-1494790108755-2616b612b786?auto=format&fit=crop&w=150&q=80" alt="{{ block.settings.name }}">
                            {% when 2 %}
                              <img src="https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?auto=format&fit=crop&w=150&q=80" alt="{{ block.settings.name }}">
                            {% when 3 %}
                              <img src="https://images.unsplash.com/photo-1438761681033-6461ffad8d80?auto=format&fit=crop&w=150&q=80" alt="{{ block.settings.name }}">
                            {% else %}
                              <img src="https://images.unsplash.com/photo-1494790108755-2616b612b786?auto=format&fit=crop&w=150&q=80" alt="{{ block.settings.name }}">
                          {% endcase %}
                        {% endif %}
                        <div>
                            <div class="author-name">{{ block.settings.name | default: 'Client' }}</div>
                            <div class="author-location">{{ block.settings.location | default: 'France' }}</div>
                        </div>
                    </div>
                </div>
              {% endif %}
            {% endfor %}

            <!-- Default testimonials if no blocks -->
            {% assign testimonials = section.blocks | where: 'type', 'testimonial' %}
            {% unless testimonials.size > 0 %}
              <div class="testimonial-card">
                  <div class="stars">
                      <span>‚≠ê</span><span>‚≠ê</span><span>‚≠ê</span><span>‚≠ê</span><span>‚≠ê</span>
                  </div>
                  <p class="testimonial-text">
                      "G√©niale pour scroller sur TikTok sans lever le bras ! Design super discret üíç"
                  </p>
                  <div class="testimonial-author">
                      <img src="https://images.unsplash.com/photo-1494790108755-2616b612b786?auto=format&fit=crop&w=150&q=80" alt="Emma L.">
                      <div>
                          <div class="author-name">Emma L.</div>
                          <div class="author-location">Paris</div>
                      </div>
                  </div>
              </div>
              <div class="testimonial-card">
                  <div class="stars">
                      <span>‚≠ê</span><span>‚≠ê</span><span>‚≠ê</span><span>‚≠ê</span><span>‚≠ê</span>
                  </div>
                  <p class="testimonial-text">
                      "Perfect pour mes photos Instagram ! Plus besoin de minuteur, je contr√¥le tout avec ma bague ‚ö°"
                  </p>
                  <div class="testimonial-author">
                      <img src="https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?auto=format&fit=crop&w=150&q=80" alt="Lucas M.">
                      <div>
                          <div class="author-name">Lucas M.</div>
                          <div class="author-location">Lyon</div>
                      </div>
                  </div>
              </div>
              <div class="testimonial-card">
                  <div class="stars">
                      <span>‚≠ê</span><span>‚≠ê</span><span>‚≠ê</span><span>‚≠ê</span><span>‚≠ê</span>
                  </div>
                  <p class="testimonial-text">
                      "R√©volutionnaire ! Je contr√¥le ma musique pendant le sport, mes coll√®gues sont jaloux üé∂"
                  </p>
                  <div class="testimonial-author">
                      <img src="https://images.unsplash.com/photo-1438761681033-6461ffad8d80?auto=format&fit=crop&w=150&q=80" alt="Sarah K.">
                      <div>
                          <div class="author-name">Sarah K.</div>
                          <div class="author-location">Marseille</div>
                      </div>
                  </div>
              </div>
            {% endunless %}
        </div>

        <!-- Stats sociaux -->
        <div class="social-stats">
            <div class="stat">
                <span class="stat-emoji">üî•</span>
                <span><strong>{{ section.settings.stat_fans | default: '+5000' }}</strong> fans satisfaits</span>
            </div>
            <div class="stat">
                <span class="stat-emoji">‚≠ê</span>
                <span><strong>{{ section.settings.stat_rating | default: '4.9/5' }}</strong> note moyenne</span>
            </div>
        </div>

        <!-- Compatibilit√© -->
        <div class="compatibility">
            <div class="compatibility-badge">
                <span>{{ section.settings.compatibility_text | default: 'üì± Compatible TikTok, Instagram & YouTube' }}</span>
            </div>
        </div>
    </div>
</section>

{% schema %}
{
  "name": "Section T√©moignages",
  "settings": [
    {
      "type": "textarea",
      "id": "testimonials_subtitle",
      "label": "Sous-titre des t√©moignages",
      "default": "Rejoins les milliers de personnes qui ont adopt√© leur nouvelle bague connect√©e"
    },
    {
      "type": "text",
      "id": "stat_fans",
      "label": "Statistique fans",
      "default": "+5000"
    },
    {
      "type": "text",
      "id": "stat_rating",
      "label": "Note moyenne",
      "default": "4.9/5"
    },
    {
      "type": "text",
      "id": "compatibility_text",
      "label": "Texte compatibilit√©",
      "default": "üì± Compatible TikTok, Instagram & YouTube"
    }
  ],
  "blocks": [
    {
      "type": "testimonial",
      "name": "T√©moignage",
      "settings": [
        {
          "type": "textarea",
          "id": "text",
          "label": "Texte du t√©moignage",
          "default": "G√©niale pour scroller sur TikTok sans lever le bras ! Design super discret üíç"
        },
        {
          "type": "text",
          "id": "name",
          "label": "Nom",
          "default": "Emma L."
        },
        {
          "type": "text",
          "id": "location",
          "label": "Localisation",
          "default": "Paris"
        },
        {
          "type": "image_picker",
          "id": "avatar",
          "label": "Avatar"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Section T√©moignages"
    }
  ]
}
{% endschema %}